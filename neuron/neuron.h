#ifndef NEURON_H
#define NEURON_H

#include "mcinfer.h"
#include "mainwindow.h"


//+++++++++++++++++ Вспомогательные переменные

float in[3] = {0,0,0}; //массив для ввода
float outKB[4]= {0,0,0,0}; // массив для вывода

//float Kp = 15.2;//4.2;         //1.25
//float Ki = 1.2; //0.91;          //1 PID proportional control Gain
//float Kd = 15.7;//5.8;




float actAngle=5;
float e_Arr_Max=20;
float de=0.1;



//+++++++++++++++++  Сама нейронка - как структура данных
fuzzy_model model={

0, /* model_ready set to OK */
1, /* engine code (algorithm type) */
1, /* min_inference_mode */
1, /* database type */
2, /* number of input variables */
4, /* number of output variables */

/* Input variable normalization parameters */
{{0.004717f,-0.231132f},{0.012500f,-0.312500f}},

/* Output variable normalization parameters */
{{0.015385f,0.000000f},{0.018182f,-2.090909f},{0.016667f,-1.550000f},{0.001842f,-0.351750f}},

/* number of input MF's per variable*/
{4,4},
/* input MF paramteres */
{
    {descending,0.365566f,0,0,0.658337f},{triangular,0.811321f,0,0.144409f,0.144409f},{triangular,0.908019f,0,0.029731f,0.029731f},{ascending,0.962264f,0,0.067957f,0},
    {descending,0.056250f,0,0,0.112027f},{triangular,0.165625f,0,0.105803f,0.105803f},{triangular,0.312500f,0,0.186712f,0.186712f},{ascending,0.703125f,0,0.591254f,0}
    },

/* number of output MF's per variable*/
{5,5,5,5},
/* output MF paramteres */
{
    {exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},
    {exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},
    {exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},
    {exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0},{exact,0.000000f,0,0,0}
    },

/* Rule database */
16, /*number of rules */

/* index */
{0}, /* empty */
/* database */
{
    0x46,0x5D,0xCE,0x36,0x7C,0x92,0xFC,0x2C,0x97,0xF2,0xA2,0x3D,0x88,0x37,0x8F,0x3E,0x18,0xFA,0xB4,0x3C,0x00,0x00,0x00,0x00,0xF4,0x78,0x33,0x3F,0xAF,0x3F,0x8D,0x3E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x79,0xC1,0x66,0x3E,0x85,0xC0,0x1B,0x3E,0xE5,0xBC,0x01,0x3F,0xCD,0xF2,0x5E,0x3F,0xEE,0xD1,0xA4,0x3C,0xDB,0x19,0x7D,0x3F,0x4D,0x25,0x24,0x37,0x00,0x00,0x00,0x00,0x72,0x71,0x5E,0x3E,0x23,0x12,0xCB,0x3E,0xAD,0xA5,0x85,0x35,0x00,0x00,0x00,0x00,0xDE,0x51,0x3E,0x3F,0x02,0x86,0x0B,0x3F,0x24,0xFA,0x7F,0x3F,0x60,0xF7,0x7F,0x3F,0x47,0xFD,0x7F,0x3F,0x2D,0xC1,0x13,0x37,0x73,0xFD,0x7F,0x3F,0x5A,0xFC,0x7F,0x3F,0xD0,0xFE,0x7F,0x3F,0xF8,0xB1,0x80,0x36,0x5F,0x89,0x11,0x3E,0x00,0x00,0x00,0x00,0xE0,0xE2,0x2A,0x3F,0x43,0x55,0x5E,0x3F,0xAD,0xA5,0x85,0x35,0x00,0x00,0x00,0x00,0x25,0x9C,0xAC,0x3E,0x4A,0xAA,0x4B,0x3F,0x35,0x81,0x24,0x3F,0x13,0x7E,0x32,0x3D,0x47,0xFD,0x7F,0x3F,0x9D,0x2C,0x7B,0x3E,0x77,0xB7,0x3D,0x3F,0x96,0x45,0xF2,0x3E,0xD0,0xFE,0x7F,0x3F,0x8F,0x3A,0xDE,0x3D,0x5F,0xAA,0x54,0x39,0x1A,0x63,0x59,0x2F,0x00,0x00,0x00,0x00,0xA8,0x00,0x23,0x3F,0x83,0x32,0x43,0x3F,0x7C,0x49,0x39,0x3F,0xA6,0xFF,0x7F,0x3F,0x50,0x82,0x95,0x3D,0x29,0xFF,0x7F,0x3F,0x14,0xFF,0x7F,0x3F,0x9C,0xFF,0x7F,0x3F,0xBB,0x25,0x36,0x3D,0x87,0x21,0x61,0x3F,0x1E,0xD6,0x5D,0x3F,0x9C,0xFF,0x7F,0x3F,0xBA,0x29,0x23,0x3D
},

/* input data and other run-time fields*/

{0}

}; /* done */




#endif // NEURON_H
